<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>소셜로그인 테스트</title>
</head>
<body>
<h1>OAuth2 소셜로그인 테스트</h1>
<a href="/oauth2/authorization/kakao">카카오 로그인</a><br>
<button id="testApiBtn1">API 호출(유저 생성)</button>
<button id="testApiBtn2">API 호출(유저 정보 수정)</button>
<button id="testApiBtn3">API 호출(구매내역 조회(입찰))</button>
<button id="testApiBtn4">API 호출(구매내역 조회(낙찰))</button>
<button id="testApiBtn5">API 호출(구매내역 조회(종료))</button>
<button id="testApiBtn6">API 호출(구매내역 조회(전체))</button>
<button id="testApiBtn7">API 호출(그림 생성)</button>
<button id="testApiBtn8">API 호출(그림 수정)</button>
<button id="testApiBtn9">API 호출(그림 삭제)</button>
<button id="testApiBtn10">API 호출(판매내역 조회(입찰))</button>
<button id="testApiBtn11">API 호출(판매내역 조회(낙찰))</button>
<button id="testApiBtn12">API 호출(판매내역 조회(종료))</button>
<button id="testApiBtn13">API 호출(판매내역 조회(전체))</button>
<button id="testApiBtn14">API 호출(내 정보 조회(간략))</button>
<button id="testApiBtn15">API 호출(내 정보 조회(상세))</button>
<button id="testApiBtn16">API 호출(좋아요 조회)</button>
<button id="testApiBtn17">API 호출(팔로잉 조회)</button>
<button id="testApiBtn18">API 호출(팔로워 조회)</button>
<button id="testApiBtn19">API 호출(내 작품페이지)</button>

<script>

    fetch('/api/user/myp', {
        method: 'GET',
        credentials: 'include', // 쿠키를 포함하여 요청하도록 설정
        headers: {
            'Content-Type': 'application/json' // 요청이 JSON 형식임을 명시
        }
    })


// 유저 정보 생성
document.getElementById('testApiBtn1').addEventListener('click', function() {
fetch('/api/user/create', {
    method: 'POST',
    credentials: 'include', // 쿠키를 포함하여 요청하도록 설정
    headers: {
        'Content-Type': 'application/json' // 요청이 JSON 형식임을 명시
    },
    body: JSON.stringify({
        user_name: '원미상',
        address: '부산부산부산부산부산',
        phone_number: '01034567891',
        user_account: '123-456-7891234',
        bank_name : '외국'
    })
})
    .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        return response.json();
    })
    .then(data => {
        console.log("API 응답:", data);
        // 응답 처리
    })
    .catch(error => {
        console.error("API 호출 오류:", error);
    })
});
// 유저 정보 수정
document.getElementById('testApiBtn2').addEventListener('click', function() {
    fetch('/api/user/update', {
        method: 'PUT',
        credentials: 'include', // 쿠키를 포함하여 요청하도록 설정
        headers: {
            'Content-Type': 'application/json' // 요청이 JSON 형식임을 명시
        },
        body: JSON.stringify({
            user_name: '신원미상',
            address: '서울대전대구부산역',
            phone_number: '444-3333-5555',
            user_account: '110-547-864579',
            bank_name : '실존'
        })
    })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            console.log("API 응답:", data);
            // 응답 처리
        })
        .catch(error => {
            console.error("API 호출 오류:", error);
        })
});
// 구매내역 조회(입찰)
document.getElementById('testApiBtn3').addEventListener('click', function() {
    fetch('/api/user/purbid', {
        method: 'GET',
        credentials: 'include', // 쿠키를 포함하여 요청하도록 설정
        headers: {
            'Content-Type': 'application/json' // 요청이 JSON 형식임을 명시
        },
    })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            console.log("API 응답:", data);
            // 응답 처리
        })
        .catch(error => {
            console.error("API 호출 오류:", error);
        })
});
//구매내역 조회(낙찰)
document.getElementById('testApiBtn4').addEventListener('click', function() {
    fetch('/api/user/pursuc', {
        method: 'GET',
        credentials: 'include', // 쿠키를 포함하여 요청하도록 설정
        headers: {
            'Content-Type': 'application/json' // 요청이 JSON 형식임을 명시
        },
    })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            console.log("API 응답:", data);
            // 응답 처리
        })
        .catch(error => {
            console.error("API 호출 오류:", error);
        })
});
//구매내역 조회(종료)
document.getElementById('testApiBtn5').addEventListener('click', function() {
    fetch('/api/user/purend', {
        method: 'GET',
        credentials: 'include', // 쿠키를 포함하여 요청하도록 설정
        headers: {
            'Content-Type': 'application/json' // 요청이 JSON 형식임을 명시
        },
    })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            console.log("API 응답:", data);
            // 응답 처리
        })
        .catch(error => {
            console.error("API 호출 오류:", error);
        })
});
//구매내역 조회(전부)
document.getElementById('testApiBtn6').addEventListener('click', function() {
    fetch('/api/user/purall', {
        method: 'GET',
        credentials: 'include', // 쿠키를 포함하여 요청하도록 설정
        headers: {
            'Content-Type': 'application/json' // 요청이 JSON 형식임을 명시
        },
    })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            console.log("API 응답:", data);
            // 응답 처리
        })
        .catch(error => {
            console.error("API 호출 오류:", error);
        })
});
//그림 생성
document.getElementById('testApiBtn7').addEventListener('click', function() {
    fetch('/api/art/create', {
        method: 'POST',
        credentials: 'include', // 쿠키를 포함하여 요청하도록 설정
        headers: {
            'Content-Type': 'application/json' // 요청이 JSON 형식임을 명시
        },
        body: JSON.stringify({
        art_name : '그림 생성 Test',
        art_info : '빈센트 반 고흐의 대표작 중 하나로, 현재 영국 런던에 위치한 영국 국립미술관에 전시되어 있다.',
        minP : 10000,
        maxP : 99999,
        width : 73.3,
        depth : 88.8,
        height : 99.9,
        createdAt : '1993-03-06',
        startTime : '2024-10-19T11:22:33.346795',
        endTime : '2023-10-28T11:33:55.346795',
        painter : '빈센트 반 고흐',
        artImage: [
        'https://i.namu.wiki/i/EJU9cNmzMbFBkB7-lVW1-i0bM3eX3YIUlSY3zDACN5pGECxRXeNtIb2xeAS3Zprk6BGtKWHY-XGMSX5oaJYGorEvterA3krsyxOW4ljXgysSoZogjVjASXXjguFkWvtHyTzv2mjSuG2EVE1Qhl2trA.webp',
        'https://contents.kyobobook.co.kr/sih/fit-in/400x0/gift/pdt/1943/hot1517536308990.jpg',
        'https://i.pinimg.com/236x/3d/03/e1/3d03e14f2e0d5895f64bdf4106320541.jpg',
        'https://thumbnail.10x10.co.kr/webimage/image/basic600/85/B000851892.jpg?cmd=thumb&w=400&h=400&fit=true&ws=false'
    ],
        artCategory : [
        '유화', '정물화', '수채화', '판화', '벽화', '추상화', '콜라쥬'
    ]
        })
    })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            console.log("API 응답:", data);
            // 응답 처리
        })
        .catch(error => {
            console.error("API 호출 오류:", error);
        })
});
// 그림 수정
document.getElementById('testApiBtn8').addEventListener('click', function() {
    fetch('/api/art/update?art_pk=105', {
        method: 'PUT',
        credentials: 'include', // 쿠키를 포함하여 요청하도록 설정
        headers: {
            'Content-Type': 'application/json' // 요청이 JSON 형식임을 명시
        },
        body: JSON.stringify({
            art_name : "그림 수정 Test",
            art_info : "빈센트 반 고흐의 대표작 중 하나로, 현재 테스트에 이용중이다. ",
            minP : 100001,
            maxP : 99998,
            width : 73.4,
            depth : 88.9,
            height : 99.7,
            createdAt : "2024-10-19",
            startTime : "2024-10-20T11:22:33.543206",
            endTime : "2023-10-30T11:33:55.346795",
            painter : "빈센트 반 고흐",
            artImage: [
                "https://i.namu.wiki/i/EJU9cNmzMbFBkB7-lVW1-i0bM3eX3YIUlSY3zDACN5pGECxRXeNtIb2xeAS3Zprk6BGtKWHY-XGMSX5oaJYGorEvterA3krsyxOW4ljXgysSoZogjVjASXXjguFkWvtHyTzv2mjSuG2EVE1Qhl2trA.webp",
                "https://contents.kyobobook.co.kr/sih/fit-in/400x0/gift/pdt/1943/hot1517536308990.jpg",
                "https://i.pinimg.com/236x/3d/03/e1/3d03e14f2e0d5895f64bdf4106320541.jpg",
                "https://thumbnail.10x10.co.kr/webimage/image/basic600/85/B000851892.jpg?cmd=thumb&w=400&h=400&fit=true&ws=false"
            ],
            artCategory : [
                "수묵화", "아크릴화", "누드화", "크로키", "인물화", "풍경화", "초상화"
            ]
        })
    })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            console.log("API 응답:", data);
            // 응답 처리
        })
        .catch(error => {
            console.error("API 호출 오류:", error);
        })
});
// 그림 삭제
document.getElementById('testApiBtn9').addEventListener('click', function() {
    fetch('/api/art/delete?art_pk=103', {
        method: 'POST',
        credentials: 'include', // 쿠키를 포함하여 요청하도록 설정
        headers: {
            'Content-Type': 'application/json' // 요청이 JSON 형식임을 명시
        },
    })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            console.log("API 응답:", data);
            // 응답 처리
        })
        .catch(error => {
            console.error("API 호출 오류:", error);
        })
});
// 판매내역 조회(입찰)
document.getElementById('testApiBtn10').addEventListener('click', function() {
    fetch('/api/user/salebid', {
        method: 'GET',
        credentials: 'include', // 쿠키를 포함하여 요청하도록 설정
        headers: {
            'Content-Type': 'application/json' // 요청이 JSON 형식임을 명시
        },
    })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            console.log("API 응답:", data);
            // 응답 처리
        })
        .catch(error => {
            console.error("API 호출 오류:", error);
        })
});
// 판매내역 조회(낙찰)
document.getElementById('testApiBtn11').addEventListener('click', function() {
    fetch('/api/user/salesuc', {
        method: 'GET',
        credentials: 'include', // 쿠키를 포함하여 요청하도록 설정
        headers: {
            'Content-Type': 'application/json' // 요청이 JSON 형식임을 명시
        },
    })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            console.log("API 응답:", data);
            // 응답 처리
        })
        .catch(error => {
            console.error("API 호출 오류:", error);
        })
});
// 판매내역 조회(종료)
document.getElementById('testApiBtn12').addEventListener('click', function() {
    fetch('/api/user/saleend', {
        method: 'GET',
        credentials: 'include', // 쿠키를 포함하여 요청하도록 설정
        headers: {
            'Content-Type': 'application/json' // 요청이 JSON 형식임을 명시
        },
    })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            console.log("API 응답:", data);
            // 응답 처리
        })
        .catch(error => {
            console.error("API 호출 오류:", error);
        })
});
// 판매내역 조회(전부)
document.getElementById('testApiBtn13').addEventListener('click', function() {
    fetch('/api/user/saleall', {
        method: 'GET',
        credentials: 'include', // 쿠키를 포함하여 요청하도록 설정
        headers: {
            'Content-Type': 'application/json' // 요청이 JSON 형식임을 명시
        },
    })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            console.log("API 응답:", data);
            // 응답 처리
        })
        .catch(error => {
            console.error("API 호출 오류:", error);
        })
});
//내 정보 조회(간략)
document.getElementById('testApiBtn14').addEventListener('click', function() {
    fetch('/api/user/myp', {
        method: 'GET',
        credentials: 'include', // 쿠키를 포함하여 요청하도록 설정
        headers: {
            'Content-Type': 'application/json' // 요청이 JSON 형식임을 명시
        },
    })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            console.log("API 응답:", data);
            // 응답 처리
        })
        .catch(error => {
            console.error("API 호출 오류:", error);
        })
});
//내 정보 조회(간략 + 팔로우 3종 숫자만)
document.getElementById('testApiBtn15').addEventListener('click', function() {
    fetch('/api/user/mypafs', {
        method: 'GET',
        credentials: 'include', // 쿠키를 포함하여 요청하도록 설정
        headers: {
            'Content-Type': 'application/json' // 요청이 JSON 형식임을 명시
        },
    })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            console.log("API 응답:", data);
            // 응답 처리
        })
        .catch(error => {
            console.error("API 호출 오류:", error);
        })
});
//좋아요 리스트
document.getElementById('testApiBtn16').addEventListener('click', function() {
    fetch('/api/user/artfol', {
        method: 'GET',
        credentials: 'include', // 쿠키를 포함하여 요청하도록 설정
        headers: {
            'Content-Type': 'application/json' // 요청이 JSON 형식임을 명시
        },
    })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            console.log("API 응답:", data);
            // 응답 처리
        })
        .catch(error => {
            console.error("API 호출 오류:", error);
        })
});
// 팔로잉 리스트
document.getElementById('testApiBtn17').addEventListener('click', function() {
fetch('/api/user/fol', {
    method: 'GET',
    credentials: 'include' // 쿠키를 포함하여 요청하도록 설정
})
    .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        return response.json();
    })
    .then(data => {
        console.log("API 응답:", data);
        // 응답 처리
    })
    .catch(error => {
        console.error("API 호출 오류:", error);
    })
});
// 팔로워 리스트
document.getElementById('testApiBtn18').addEventListener('click', function() {
    fetch('/api/user/myfol', {
        method: 'GET',
        credentials: 'include', // 쿠키를 포함하여 요청하도록 설정
        headers: {
            'Content-Type': 'application/json' // 요청이 JSON 형식임을 명시
        },
    })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            console.log("API 응답:", data);
            // 응답 처리
        })
        .catch(error => {
            console.error("API 호출 오류:", error);
        })
});
// 내 작품페이지
document.getElementById('testApiBtn19').addEventListener('click', function() {
    fetch('/api/user/myart', {
        method: 'GET',
        credentials: 'include', // 쿠키를 포함하여 요청하도록 설정
        headers: {
            'Content-Type': 'application/json' // 요청이 JSON 형식임을 명시
        },
    })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            console.log("API 응답:", data);
            // 응답 처리
        })
        .catch(error => {
            console.error("API 호출 오류:", error);
        })
});
// 로그인 후 추가 정보 입력 화면에서 db정보 불러와지나? 이거 되면 문제 없는거임. 안되면 추가로 작업해줘야 하고.
    fetch('/api/user/myp', {
        method: 'GET',
        credentials: 'include', // 쿠키를 포함하여 요청하도록 설정
        headers: {
            'Content-Type': 'application/json' // 요청이 JSON 형식임을 명시
        },
    })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            console.log("API 응답:", data);
            // 응답 처리
        })
        .catch(error => {
            console.error("API 호출 오류:", error);
        });

















</script>
</body>
</html>